<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Yandex Map</title>
    <style>
        #map {
            width: 100%;
            height: 3000px;
        }
    </style>
    <!-- Подключение Yandex Maps API -->
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
</head>
<body>
<div id="map"></div>

<script>
    ymaps.ready(function () {
        var map = new ymaps.Map("map", {
            center: [41.304324589277115, 69.23875747406383],
            zoom: 12
        });

        var points = [
            {
                coords: [41.304324589277115, 69.23875747406383],
                text: 'Это Ташкент'
            },
            {
                coords: [41.311081, 69.279650],
                text: 'Второе место'
            },
            {
                coords: [41.295998, 69.216070],
                text: 'Третье место'
            }
        ];

        points.forEach(function (point) {
            var placemark = new ymaps.Placemark(point.coords, {
                balloonContent: point.text
            });
            map.geoObjects.add(placemark);
        });

        var clickPlacemark;

        map.events.add('click', function (e) {
            var coords = e.get('coords');

            ymaps.geocode(coords).then(function (res) {
                var firstGeoObject = res.geoObjects.get(0);
                var address = firstGeoObject ? firstGeoObject.getAddressLine() : "Адрес не найден";

                if (clickPlacemark) {
                    map.geoObjects.remove(clickPlacemark);
                }

                clickPlacemark = new ymaps.Placemark(coords, {
                    balloonContent:
                        '<b>Координаты:</b><br>' +
                        coords[0].toFixed(6) + ', ' + coords[1].toFixed(6) +
                        '<br><b>Место:</b><br>' + address
                });

                map.geoObjects.add(clickPlacemark);
                clickPlacemark.balloon.open();
            });
        });
    });
</script>
</body>
</html>
